@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 42 15% 92%;
  --foreground: 205 16% 14%;
  --card: 45 17% 95%;
  --card-foreground: 205 16% 14%;
  --primary: 190 82% 39%;
  --primary-foreground: 190 18% 95%;
  --secondary: 40 10% 83%;
  --secondary-foreground: 206 16% 18%;
  --muted: 42 11% 87%;
  --muted-foreground: 210 9% 34%;
  --accent: 37 86% 52%;
  --accent-foreground: 36 30% 12%;
  --destructive: 0 72% 45%;
  --destructive-foreground: 0 0% 98%;
  --border: 36 10% 66%;
  --input: 36 10% 72%;
  --ring: 37 86% 52%;
  --radius: 0.38rem;

  --panel: 42 14% 93%;
  --panel-strong: 44 16% 89%;
  --grid-line: 200 15% 72%;
  --node-source: 190 82% 39%;
  --node-sink: 37 86% 52%;
  --node-connect: 200 75% 43%;
  --edge-base: 207 12% 38%;
  --edge-highlight: 37 86% 52%;
  --edge-cut: 0 72% 45%;

  --font-display: "Bahnschrift", "DIN Alternate", "Arial Narrow", "Segoe UI", sans-serif;
  --font-body: "Segoe UI Variable", "Aptos", "Segoe UI", system-ui, sans-serif;
}

.dark {
  --background: 216 19% 7%;
  --foreground: 42 17% 86%;
  --card: 216 17% 10%;
  --card-foreground: 42 17% 86%;
  --primary: 188 86% 54%;
  --primary-foreground: 215 35% 11%;
  --secondary: 216 12% 17%;
  --secondary-foreground: 43 18% 82%;
  --muted: 216 11% 14%;
  --muted-foreground: 214 10% 66%;
  --accent: 37 88% 58%;
  --accent-foreground: 30 32% 12%;
  --destructive: 0 67% 47%;
  --destructive-foreground: 0 0% 98%;
  --border: 216 8% 28%;
  --input: 216 8% 34%;
  --ring: 37 88% 58%;

  --panel: 216 16% 9%;
  --panel-strong: 216 14% 12%;
  --grid-line: 193 23% 19%;
  --node-source: 188 86% 54%;
  --node-sink: 37 88% 58%;
  --node-connect: 200 80% 56%;
  --edge-base: 210 14% 62%;
  --edge-highlight: 37 88% 58%;
  --edge-cut: 0 67% 47%;
}

* {
  @apply border-border;
}

html,
body {
  @apply h-full bg-background text-foreground;
}

body {
  font-family: var(--font-body);
  background-image:
    radial-gradient(circle at 12% -8%, hsl(var(--accent) / 0.16), transparent 38%),
    radial-gradient(circle at 87% 0%, hsl(var(--primary) / 0.2), transparent 34%),
    linear-gradient(145deg, hsl(var(--background)), hsl(var(--panel)));
}

h1,
h2,
h3,
h4,
button,
select,
label {
  font-family: var(--font-display);
  letter-spacing: 0.02em;
}

.dark body {
  background-image:
    radial-gradient(circle at 12% -10%, hsl(var(--accent) / 0.2), transparent 35%),
    radial-gradient(circle at 86% 0%, hsl(var(--primary) / 0.24), transparent 32%),
    linear-gradient(145deg, hsl(var(--background)), hsl(var(--panel)));
}

.panel-shell {
  background-color: hsl(var(--card) / 0.84);
  border-color: hsl(var(--border) / 0.9);
  backdrop-filter: blur(7px);
}

.react-flow__node {
  transition: box-shadow 160ms ease, border-color 140ms ease, background-color 140ms ease, transform 160ms ease;
}

.react-flow__node.dragging {
  transition: none !important;
}

.react-flow__edge-path {
  transition: stroke 160ms ease, stroke-width 180ms ease;
}

.react-flow__controls-button,
.react-flow__minimap {
  border-color: hsl(var(--border) / 0.9);
  background-color: hsl(var(--panel-strong) / 0.95);
  color: hsl(var(--foreground));
}

.react-flow__controls {
  border: 1px solid hsl(var(--border) / 0.8);
  border-radius: calc(var(--radius) - 1px);
  overflow: hidden;
  margin: 0.55rem;
}

.react-flow__controls-button:hover {
  background-color: hsl(var(--secondary));
}

.react-flow__background pattern line {
  stroke: hsl(var(--grid-line) / 0.75);
}

.react-flow__attribution {
  display: none;
}

@media (max-width: 640px) {
  .react-flow__controls {
    transform: scale(0.92);
    transform-origin: bottom right;
    margin: 0.5rem;
  }
}
